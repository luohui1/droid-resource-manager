# Droid å·¥ä½œæµè°ƒåº¦ç³»ç»Ÿè®¾è®¡æ–‡æ¡£

## æ¦‚è¿°

æœ¬ç³»ç»Ÿæ˜¯ä¸€ä¸ªå¤šé¡¹ç›®ã€å¤š Droid å¹¶è¡Œè°ƒåº¦å¹³å°ï¼Œç”¨äºç®¡ç†å’Œç›‘æ§ Factory CLI çš„ Droid ä»»åŠ¡æ‰§è¡Œã€‚

## æ ¸å¿ƒåŠŸèƒ½

### 1. å¤šé¡¹ç›®ç®¡ç†
- æ·»åŠ /åˆ é™¤/ç¼–è¾‘é¡¹ç›®
- æ¯ä¸ªé¡¹ç›®å¯é…ç½®é»˜è®¤ Droidã€æ¨¡å‹ã€Skillsã€MCP
- é¡¹ç›®çº§ä»»åŠ¡é˜Ÿåˆ—

### 2. å¤š Droid è°ƒåº¦
- æŸ¥çœ‹æ‰€æœ‰ Droid çŠ¶æ€ï¼ˆç©ºé—²/è¿è¡Œä¸­/é˜Ÿåˆ—ä¸­ï¼‰
- ç»™æŒ‡å®š Droid åˆ†é…ä»»åŠ¡
- æ¯ä¸ª Droid ç‹¬ç«‹çš„ä»»åŠ¡é˜Ÿåˆ—
- å¹¶è¡Œæ‰§è¡Œå¤šä¸ª Droid ä»»åŠ¡

### 3. ä»»åŠ¡ç®¡ç†
- åˆ›å»ºä»»åŠ¡ï¼ˆæŒ‡å®šé¡¹ç›® + Droid + Promptï¼‰
- ä»»åŠ¡ä¼˜å…ˆçº§è°ƒæ•´
- ä»»åŠ¡çŠ¶æ€è·Ÿè¸ªï¼ˆå¾…æ‰§è¡Œ/è¿è¡Œä¸­/å·²å®Œæˆ/å¤±è´¥ï¼‰
- ä»»åŠ¡å†å²è®°å½•

### 4. å®æ—¶ç›‘æ§
- å®æ—¶è¾“å‡ºæµå±•ç¤º
- å·¥å…·è°ƒç”¨è®°å½•
- Token ä½¿ç”¨ç»Ÿè®¡
- è¿è¡Œæ—¶é—´ç»Ÿè®¡

---

## æŠ€æœ¯æ¶æ„

### æ•´ä½“æ¶æ„å›¾

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                        å‰ç«¯ (React)                              â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”              â”‚
â”‚  â”‚ é¡¹ç›®åˆ—è¡¨    â”‚  â”‚ Droid æ±     â”‚  â”‚ ä»»åŠ¡çœ‹æ¿    â”‚              â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜              â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”              â”‚
â”‚  â”‚ ä»»åŠ¡è¯¦æƒ…    â”‚  â”‚ å®æ—¶è¾“å‡º    â”‚  â”‚ å†å²è®°å½•    â”‚              â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â†• IPC
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                     Electron ä¸»è¿›ç¨‹                              â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”              â”‚
â”‚  â”‚ é¡¹ç›®ç®¡ç†    â”‚  â”‚ ä»»åŠ¡è°ƒåº¦å™¨  â”‚  â”‚ è¿›ç¨‹ç®¡ç†å™¨  â”‚              â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜              â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”              â”‚
â”‚  â”‚ æ—¥å¿—è§£æå™¨  â”‚  â”‚ çŠ¶æ€å­˜å‚¨    â”‚  â”‚ ä¼šè¯è¯»å–    â”‚              â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â†• child_process.spawn
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                     Factory CLI (droid exec)                     â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”              â”‚
â”‚  â”‚ Droid 1     â”‚  â”‚ Droid 2     â”‚  â”‚ Droid N     â”‚              â”‚
â”‚  â”‚ (è¿›ç¨‹)      â”‚  â”‚ (è¿›ç¨‹)      â”‚  â”‚ (è¿›ç¨‹)      â”‚              â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### æ•°æ®æµ

```
ç”¨æˆ·åˆ›å»ºä»»åŠ¡
      â†“
ä»»åŠ¡è°ƒåº¦å™¨æ¥æ”¶
      â†“
æ£€æŸ¥ç›®æ ‡ Droid çŠ¶æ€
      â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Droid ç©ºé—²?                         â”‚
â”‚   æ˜¯ â†’ ç«‹å³æ‰§è¡Œ (spawn droid exec)  â”‚
â”‚   å¦ â†’ åŠ å…¥ Droid ä»»åŠ¡é˜Ÿåˆ—          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
      â†“
è¿›ç¨‹ç®¡ç†å™¨ç›‘æ§ stdout
      â†“
å®æ—¶æ¨é€è¾“å‡ºåˆ°å‰ç«¯
      â†“
ä»»åŠ¡å®Œæˆ â†’ æ›´æ–°çŠ¶æ€ â†’ æ‰§è¡Œé˜Ÿåˆ—ä¸­ä¸‹ä¸€ä¸ªä»»åŠ¡
```

---

## æ•°æ®æ¨¡å‹

### Project (é¡¹ç›®)

```typescript
interface Project {
  id: string                      // UUID
  name: string                    // é¡¹ç›®åç§°
  path: string                    // é¡¹ç›®ç»å¯¹è·¯å¾„
  description?: string            // é¡¹ç›®æè¿°
  createdAt: number               // åˆ›å»ºæ—¶é—´
  updatedAt: number               // æ›´æ–°æ—¶é—´
  
  // é»˜è®¤é…ç½®
  defaultDroidId?: string         // é»˜è®¤ Droid
  defaultModel?: string           // é»˜è®¤æ¨¡å‹
  defaultAutoLevel?: AutoLevel    // é»˜è®¤æƒé™çº§åˆ«
  
  // å…³è”èµ„æº
  linkedSkills?: string[]         // å…³è”çš„ Skills åç§°
  linkedMcps?: string[]           // å…³è”çš„ MCP åç§°
  linkedRules?: string[]          // å…³è”çš„ Rules åç§°
  
  // ç»Ÿè®¡
  totalTasks: number              // æ€»ä»»åŠ¡æ•°
  completedTasks: number          // å·²å®Œæˆä»»åŠ¡æ•°
}
```

### Task (ä»»åŠ¡)

```typescript
type TaskStatus = 'pending' | 'running' | 'completed' | 'failed' | 'cancelled'
type AutoLevel = 'readonly' | 'low' | 'medium' | 'high'

interface Task {
  id: string                      // UUID
  name: string                    // ä»»åŠ¡åç§°
  prompt: string                  // ä»»åŠ¡ Prompt
  
  // å…³è”
  projectId: string               // æ‰€å±é¡¹ç›® ID
  droidId: string                 // åˆ†é…çš„ Droid ID
  
  // çŠ¶æ€
  status: TaskStatus              // ä»»åŠ¡çŠ¶æ€
  priority: number                // ä¼˜å…ˆçº§ (1-10, 10æœ€é«˜)
  
  // é…ç½®
  autoLevel: AutoLevel            // æƒé™çº§åˆ«
  model?: string                  // è¦†ç›–æ¨¡å‹ (å¯é€‰)
  enabledTools?: string[]         // å¯ç”¨çš„å·¥å…·
  disabledTools?: string[]        // ç¦ç”¨çš„å·¥å…·
  
  // æ‰§è¡Œä¿¡æ¯
  sessionId?: string              // Factory ä¼šè¯ ID (ä» stream-json init äº‹ä»¶æå–)
  pid?: number                    // è¿›ç¨‹ ID
  
  // æ—¶é—´
  createdAt: number               // åˆ›å»ºæ—¶é—´
  startedAt?: number              // å¼€å§‹æ—¶é—´
  completedAt?: number            // å®Œæˆæ—¶é—´
  
  // ç»“æœ
  output: string[]                // å®æ—¶è¾“å‡ºæ—¥å¿— (è¡Œæ•°ç»„, ç”¨äº UI å±•ç¤º)
  rawOutputPath?: string          // åŸå§‹ JSONL è¾“å‡ºè·¯å¾„ (ç”¨äºäº‹åé‡æ”¾èŠ‚ç‚¹å›¾)
  error?: string                  // é”™è¯¯ä¿¡æ¯
  exitCode?: number               // é€€å‡ºç 
  
  // ç»Ÿè®¡
  tokenUsage?: {
    input: number
    output: number
  }
  toolCalls?: {
    name: string
    count: number
    totalDuration: number
  }[]
}
```

### DroidState (Droid è¿è¡ŒçŠ¶æ€)

```typescript
type DroidStatus = 'idle' | 'running' | 'queued'

interface DroidState {
  id: string                      // Droid ID = æ–‡ä»¶åå»æ‰ .md (å¦‚ "frontend-reviewer")
                                  // å¯¹åº” ~/.factory/droids/{id}.md æˆ– .factory/droids/{id}.md
  name: string                    // Droid æ˜¾ç¤ºåç§° (ä» frontmatter è§£æ)
  path: string                    // Droid æ–‡ä»¶å®Œæ•´è·¯å¾„
  scope: 'global' | 'project'     // å…¨å±€ Droid æˆ–é¡¹ç›®çº§ Droid
  
  // çŠ¶æ€
  status: DroidStatus             // å½“å‰çŠ¶æ€
  runningTasks: number            // å½“å‰è¿è¡Œä¸­çš„ä»»åŠ¡æ•°
  currentTasks: Task[]            // å½“å‰æ‰§è¡Œçš„ä»»åŠ¡åˆ—è¡¨ (æ”¯æŒå• Droid å¤šä»»åŠ¡)
  
  // é˜Ÿåˆ—
  taskQueue: Task[]               // å¾…æ‰§è¡Œä»»åŠ¡é˜Ÿåˆ—
  
  // å†å²
  recentTasks: Task[]             // æœ€è¿‘å®Œæˆçš„ä»»åŠ¡ (æœ€å¤šä¿ç•™ 50 æ¡)
  
  // ç»Ÿè®¡
  totalTasksCompleted: number     // æ€»å®Œæˆä»»åŠ¡æ•°
  totalTokensUsed: number         // æ€» Token ä½¿ç”¨é‡
  averageTaskDuration: number     // å¹³å‡ä»»åŠ¡æ—¶é•¿ (ms)
}
```

### SchedulerConfig (è°ƒåº¦å™¨é…ç½®)

```typescript
interface SchedulerConfig {
  // å…¨å±€å¹¶å‘æ§åˆ¶
  maxParallelTasks: number        // æœ€å¤§å…¨å±€å¹¶è¡Œä»»åŠ¡æ•° (é»˜è®¤ 4)
  
  // å• Droid å¹¶å‘æ§åˆ¶ (é¿å… API é™æµæˆ– token è€—å°½)
  maxTasksPerDroid: number        // æ¯ä¸ª Droid æœ€å¤§å¹¶è¡Œä»»åŠ¡æ•° (é»˜è®¤ 1)
  
  // é»˜è®¤é…ç½®
  defaultAutoLevel: AutoLevel     // é»˜è®¤æƒé™çº§åˆ« (é»˜è®¤ medium)
  defaultModel: string            // é»˜è®¤æ¨¡å‹
  
  // è¶…æ—¶æ§åˆ¶
  taskTimeout: number             // ä»»åŠ¡è¶…æ—¶æ—¶é—´ (ms, é»˜è®¤ 30åˆ†é’Ÿ)
  watchdogInterval: number        // è¿›ç¨‹çŠ¶æ€æ£€æŸ¥é—´éš” (ms, é»˜è®¤ 5000)
  
  // é‡è¯•ç­–ç•¥
  retryOnFailure: boolean         // å¤±è´¥æ—¶æ˜¯å¦é‡è¯•
  maxRetries: number              // æœ€å¤§é‡è¯•æ¬¡æ•°
  retryDelay: number              // é‡è¯•å»¶è¿Ÿ (ms, é»˜è®¤ 5000)
}
```

---

## å­˜å‚¨è®¾è®¡

### æ–‡ä»¶ç»“æ„

```
# ä½¿ç”¨ Electron userData ç›®å½•ï¼Œé¿å…ä¸ Factory åŸæœ‰ç›®å½•å†²çª
# Windows: %APPDATA%/droid-resource-manager/
# macOS: ~/Library/Application Support/droid-resource-manager/
# Linux: ~/.config/droid-resource-manager/

{userData}/
â”œâ”€â”€ scheduler/                    # è°ƒåº¦å™¨æ•°æ®ç›®å½•
â”‚   â”œâ”€â”€ config.json              # è°ƒåº¦å™¨é…ç½®
â”‚   â”œâ”€â”€ projects.json            # é¡¹ç›®åˆ—è¡¨
â”‚   â”œâ”€â”€ tasks/                   # ä»»åŠ¡æ•°æ®
â”‚   â”‚   â”œâ”€â”€ pending.json         # å¾…æ‰§è¡Œä»»åŠ¡
â”‚   â”‚   â”œâ”€â”€ history.json         # å†å²ä»»åŠ¡ (æœ€è¿‘ 1000 æ¡)
â”‚   â”‚   â””â”€â”€ outputs/             # ä»»åŠ¡è¾“å‡º
â”‚   â”‚       â”œâ”€â”€ {task-id}.log    # å®æ—¶è¾“å‡ºæ—¥å¿— (æ–‡æœ¬)
â”‚   â”‚       â””â”€â”€ {task-id}.jsonl  # åŸå§‹ JSONL è¾“å‡º (ç”¨äºèŠ‚ç‚¹å›¾é‡æ”¾)
â”‚   â””â”€â”€ droid-states.json        # Droid è¿è¡ŒçŠ¶æ€

# Factory åŸæœ‰ç›®å½• (åªè¯»å–ï¼Œä¸å†™å…¥)
~/.factory/
â”œâ”€â”€ droids/                       # å…¨å±€ Droid é…ç½®
â”œâ”€â”€ skills/                       # å…¨å±€ Skills
â”œâ”€â”€ sessions/                     # ä¼šè¯æ•°æ® (å¯è¯»å–å†å²)
â””â”€â”€ logs/                         # æ—¥å¿— (å¯è¯»å–)

# é¡¹ç›®çº§èµ„æº (åªè¯»å–)
{project}/.factory/
â”œâ”€â”€ droids/                       # é¡¹ç›®çº§ Droid
â””â”€â”€ skills/                       # é¡¹ç›®çº§ Skills
```

---

## è¿›ç¨‹ç®¡ç†è¯¦ç»†è®¾è®¡

### droid exec è°ƒç”¨æ–¹å¼

```typescript
// ä½¿ç”¨ stream-json è¾“å‡ºæ ¼å¼ï¼Œä¾¿äºè§£æç»“æ„åŒ–æ•°æ®
const args = [
  'exec',
  '--output-format', 'stream-json',  // ç»“æ„åŒ– JSON æµè¾“å‡º
  '--auto', task.autoLevel,
  '--cwd', project.path,
  '--model', task.model || config.defaultModel,
]

if (task.enabledTools?.length) {
  args.push('--enabled-tools', task.enabledTools.join(','))
}
if (task.disabledTools?.length) {
  args.push('--disabled-tools', task.disabledTools.join(','))
}

args.push(task.prompt)

const proc = spawn('droid', args, {
  cwd: project.path,
  env: { ...process.env },
})
```

### stream-json è¾“å‡ºè§£æ

```typescript
// droid exec --output-format stream-json è¾“å‡ºæ ¼å¼
interface StreamJsonEvent {
  type: 'init' | 'assistant' | 'tool_use' | 'tool_result' | 'result' | 'error'
  // init äº‹ä»¶åŒ…å« session_id
  session_id?: string
  // assistant äº‹ä»¶åŒ…å«æ–‡æœ¬è¾“å‡º
  text?: string
  // tool_use äº‹ä»¶åŒ…å«å·¥å…·è°ƒç”¨
  tool?: { name: string; input: unknown }
  // tool_result äº‹ä»¶åŒ…å«å·¥å…·ç»“æœ
  result?: unknown
  // result äº‹ä»¶åŒ…å«æœ€ç»ˆç»Ÿè®¡
  usage?: { input_tokens: number; output_tokens: number }
}

// è§£æç¤ºä¾‹
proc.stdout.on('data', (chunk) => {
  const lines = chunk.toString().split('\n')
  for (const line of lines) {
    if (!line.trim()) continue
    try {
      const event: StreamJsonEvent = JSON.parse(line)
      
      // æå– session_id
      if (event.type === 'init' && event.session_id) {
        task.sessionId = event.session_id
      }
      
      // è®°å½•å·¥å…·è°ƒç”¨
      if (event.type === 'tool_use') {
        // æ›´æ–° toolCalls ç»Ÿè®¡
      }
      
      // æå– token ä½¿ç”¨
      if (event.type === 'result' && event.usage) {
        task.tokenUsage = {
          input: event.usage.input_tokens,
          output: event.usage.output_tokens,
        }
      }
      
      // ä¿å­˜åŸå§‹ JSONL
      appendToFile(task.rawOutputPath, line + '\n')
      
      // æ¨é€åˆ°å‰ç«¯
      mainWindow.webContents.send('scheduler:event:task-output', {
        taskId: task.id,
        event,
      })
    } catch (e) {
      // é JSON è¡Œï¼Œä½œä¸ºæ™®é€šæ–‡æœ¬å¤„ç†
      task.output.push(line)
    }
  }
})
```

### è¶…æ—¶å’Œ Watchdog

```typescript
class ProcessWatchdog {
  private timers: Map<string, NodeJS.Timeout> = new Map()
  private checkInterval: NodeJS.Timeout | null = null
  
  start(config: SchedulerConfig) {
    // å®šæœŸæ£€æŸ¥æ‰€æœ‰è¿è¡Œä¸­çš„è¿›ç¨‹
    this.checkInterval = setInterval(() => {
      this.checkAllProcesses()
    }, config.watchdogInterval)
  }
  
  // ä¸ºä»»åŠ¡è®¾ç½®è¶…æ—¶
  setTaskTimeout(task: Task, timeout: number) {
    const timer = setTimeout(() => {
      this.handleTimeout(task)
    }, timeout)
    this.timers.set(task.id, timer)
  }
  
  // æ£€æŸ¥è¿›ç¨‹æ˜¯å¦è¿˜æ´»ç€
  private checkAllProcesses() {
    for (const [taskId, proc] of runningProcesses) {
      if (proc.exitCode !== null) {
        // è¿›ç¨‹å·²é€€å‡ºä½†æœªè¢«æ¸…ç†
        this.handleProcessExit(taskId, proc.exitCode)
      }
    }
  }
  
  // å¤„ç†è¶…æ—¶
  private handleTimeout(task: Task) {
    const proc = runningProcesses.get(task.id)
    if (proc) {
      proc.kill('SIGTERM')
      // ç»™è¿›ç¨‹ 5 ç§’ä¼˜é›…é€€å‡ºï¼Œå¦åˆ™å¼ºåˆ¶ kill
      setTimeout(() => {
        if (proc.exitCode === null) {
          proc.kill('SIGKILL')
        }
      }, 5000)
    }
    task.status = 'failed'
    task.error = 'Task timeout'
  }
}
```

### å¹¶å‘æ§åˆ¶

```typescript
class TaskScheduler {
  private runningCount = 0
  private droidRunningCount: Map<string, number> = new Map()
  
  canStartTask(task: Task, config: SchedulerConfig): boolean {
    // æ£€æŸ¥å…¨å±€å¹¶å‘é™åˆ¶
    if (this.runningCount >= config.maxParallelTasks) {
      return false
    }
    
    // æ£€æŸ¥å• Droid å¹¶å‘é™åˆ¶
    const droidCount = this.droidRunningCount.get(task.droidId) || 0
    if (droidCount >= config.maxTasksPerDroid) {
      return false
    }
    
    return true
  }
  
  onTaskStart(task: Task) {
    this.runningCount++
    const count = this.droidRunningCount.get(task.droidId) || 0
    this.droidRunningCount.set(task.droidId, count + 1)
  }
  
  onTaskEnd(task: Task) {
    this.runningCount--
    const count = this.droidRunningCount.get(task.droidId) || 1
    this.droidRunningCount.set(task.droidId, count - 1)
    
    // æ£€æŸ¥é˜Ÿåˆ—ä¸­æ˜¯å¦æœ‰ç­‰å¾…çš„ä»»åŠ¡
    this.processQueue()
  }
}
```

---

### IPC Handlers

#### é¡¹ç›®ç®¡ç†

```typescript
// è·å–æ‰€æœ‰é¡¹ç›®
'scheduler:projects:list' â†’ Project[]

// æ·»åŠ é¡¹ç›®
'scheduler:projects:add' (project: Omit<Project, 'id' | 'createdAt' | 'updatedAt'>) â†’ Project

// æ›´æ–°é¡¹ç›®
'scheduler:projects:update' (id: string, updates: Partial<Project>) â†’ Project

// åˆ é™¤é¡¹ç›®
'scheduler:projects:delete' (id: string) â†’ boolean

// è·å–é¡¹ç›®ä»»åŠ¡
'scheduler:projects:tasks' (projectId: string) â†’ Task[]
```

#### ä»»åŠ¡ç®¡ç†

```typescript
// åˆ›å»ºä»»åŠ¡
'scheduler:tasks:create' (task: {
  name: string
  prompt: string
  projectId: string
  droidId: string
  autoLevel?: AutoLevel
  model?: string
  priority?: number
}) â†’ Task

// å–æ¶ˆä»»åŠ¡
'scheduler:tasks:cancel' (taskId: string) â†’ boolean

// é‡è¯•ä»»åŠ¡
'scheduler:tasks:retry' (taskId: string) â†’ Task

// è·å–ä»»åŠ¡è¯¦æƒ…
'scheduler:tasks:get' (taskId: string) â†’ Task

// è·å–ä»»åŠ¡è¾“å‡º
'scheduler:tasks:output' (taskId: string) â†’ string[]

// æ›´æ–°ä»»åŠ¡ä¼˜å…ˆçº§
'scheduler:tasks:priority' (taskId: string, priority: number) â†’ Task
```

#### Droid çŠ¶æ€

```typescript
// è·å–æ‰€æœ‰ Droid çŠ¶æ€
'scheduler:droids:states' â†’ DroidState[]

// è·å–å•ä¸ª Droid çŠ¶æ€
'scheduler:droids:state' (droidId: string) â†’ DroidState

// è·å– Droid ä»»åŠ¡é˜Ÿåˆ—
'scheduler:droids:queue' (droidId: string) â†’ Task[]

// åœæ­¢ Droid å½“å‰ä»»åŠ¡
'scheduler:droids:stop' (droidId: string) â†’ boolean
```

#### è°ƒåº¦å™¨æ§åˆ¶

```typescript
// è·å–è°ƒåº¦å™¨é…ç½®
'scheduler:config:get' â†’ SchedulerConfig

// æ›´æ–°è°ƒåº¦å™¨é…ç½®
'scheduler:config:update' (config: Partial<SchedulerConfig>) â†’ SchedulerConfig

// è·å–è°ƒåº¦å™¨çŠ¶æ€
'scheduler:status' â†’ {
  running: number
  pending: number
  completed: number
  failed: number
}

// æš‚åœæ‰€æœ‰ä»»åŠ¡
'scheduler:pause' â†’ boolean

// æ¢å¤æ‰€æœ‰ä»»åŠ¡
'scheduler:resume' â†’ boolean
```

#### å®æ—¶äº‹ä»¶ (é€šè¿‡ IPC æ¨é€)

```typescript
// ä»»åŠ¡çŠ¶æ€å˜æ›´
'scheduler:event:task-status' â†’ { taskId: string, status: TaskStatus }

// ä»»åŠ¡è¾“å‡º
'scheduler:event:task-output' â†’ { taskId: string, line: string }

// Droid çŠ¶æ€å˜æ›´
'scheduler:event:droid-status' â†’ { droidId: string, status: DroidStatus }
```

---

## UI è®¾è®¡

### é¦–é¡µå¸ƒå±€

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ğŸ“Š è°ƒåº¦é¢æ¿                                    [è®¾ç½®] [æš‚åœå…¨éƒ¨] [+ä»»åŠ¡] â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                         â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚ ğŸ“ é¡¹ç›® (4)         â”‚  â”‚ ğŸ“‹ ä»»åŠ¡çœ‹æ¿                              â”‚  â”‚
â”‚  â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚  â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚  â”‚
â”‚  â”‚ â”‚â–¼ my-frontend    â”‚ â”‚  â”‚ â”‚ å¾…æ‰§è¡Œ   â”‚ â”‚ è¿è¡Œä¸­   â”‚ â”‚ å·²å®Œæˆ   â”‚    â”‚  â”‚
â”‚  â”‚ â”‚  3 ä»»åŠ¡ | 2è¿è¡Œ â”‚ â”‚  â”‚ â”‚ (5)     â”‚ â”‚ (3)     â”‚ â”‚ (12)    â”‚    â”‚  â”‚
â”‚  â”‚ â”‚â–¶ my-backend     â”‚ â”‚  â”‚ â”‚         â”‚ â”‚         â”‚ â”‚         â”‚    â”‚  â”‚
â”‚  â”‚ â”‚  1 ä»»åŠ¡ | 1è¿è¡Œ â”‚ â”‚  â”‚ â”‚ [ä»»åŠ¡å¡] â”‚ â”‚ [ä»»åŠ¡å¡] â”‚ â”‚ [ä»»åŠ¡å¡] â”‚    â”‚  â”‚
â”‚  â”‚ â”‚â–¶ shared-lib     â”‚ â”‚  â”‚ â”‚ [ä»»åŠ¡å¡] â”‚ â”‚ [ä»»åŠ¡å¡] â”‚ â”‚ [ä»»åŠ¡å¡] â”‚    â”‚  â”‚
â”‚  â”‚ â”‚  0 ä»»åŠ¡         â”‚ â”‚  â”‚ â”‚ [ä»»åŠ¡å¡] â”‚ â”‚ [ä»»åŠ¡å¡] â”‚ â”‚ [ä»»åŠ¡å¡] â”‚    â”‚  â”‚
â”‚  â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚  â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚  â”‚
â”‚  â”‚                     â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚  â”‚ ğŸ¤– Droids (5)       â”‚                                               â”‚
â”‚  â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚ â”‚ frontend  ğŸŸ¢    â”‚ â”‚  â”‚ ğŸ“º å®æ—¶è¾“å‡º                              â”‚  â”‚
â”‚  â”‚ â”‚ backend   ğŸŸ¡    â”‚ â”‚  â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚  â”‚
â”‚  â”‚ â”‚ test      ğŸŸ¢    â”‚ â”‚  â”‚ â”‚ > Reading src/App.tsx...            â”‚ â”‚  â”‚
â”‚  â”‚ â”‚ docs      ğŸŸ¡    â”‚ â”‚  â”‚ â”‚ > Analyzing component structure...  â”‚ â”‚  â”‚
â”‚  â”‚ â”‚ devops    ğŸ”µ    â”‚ â”‚  â”‚ â”‚ > Found 3 issues...                 â”‚ â”‚  â”‚
â”‚  â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚  â”‚ â”‚ > Applying fix...                   â”‚ â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚ â”‚ â–ˆ                                   â”‚ â”‚  â”‚
â”‚                           â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚  â”‚
â”‚                           â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### ä»»åŠ¡å¡ç‰‡

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ é‡æ„ Dashboard ç»„ä»¶          â”‚
â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ â”‚
â”‚ ğŸ¤– frontend-droid           â”‚
â”‚ ğŸ“ my-frontend              â”‚
â”‚ â±ï¸ 5:32 / ~15:00            â”‚
â”‚ ğŸ“Š Token: 12.3k / 2.4k      â”‚
â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ â”‚
â”‚ [æŸ¥çœ‹] [åœæ­¢]               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### æ–°å»ºä»»åŠ¡å¯¹è¯æ¡†

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ æ–°å»ºä»»åŠ¡                                                   [X]  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                 â”‚
â”‚ ä»»åŠ¡åç§°                                                        â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚ â”‚ é‡æ„ Dashboard ç»„ä»¶                                         â”‚ â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                                                 â”‚
â”‚ é€‰æ‹©é¡¹ç›®                                                        â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚ â”‚ my-frontend                                              â–¼  â”‚ â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                                                 â”‚
â”‚ é€‰æ‹© Droid                                                      â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚ â”‚ frontend-droid (æ¨è)                                    â–¼  â”‚ â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                                                 â”‚
â”‚ ä»»åŠ¡æè¿° (Prompt)                                               â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚ â”‚ é‡æ„ src/components/Dashboard ç»„ä»¶ï¼š                        â”‚ â”‚
â”‚ â”‚ 1. æ‹†åˆ†æˆæ›´å°çš„å­ç»„ä»¶                                       â”‚ â”‚
â”‚ â”‚ 2. æ·»åŠ  TypeScript ç±»å‹å®šä¹‰                                 â”‚ â”‚
â”‚ â”‚ 3. ä¼˜åŒ–æ¸²æŸ“æ€§èƒ½                                             â”‚ â”‚
â”‚ â”‚                                                             â”‚ â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                                                 â”‚
â”‚ æƒé™çº§åˆ«                                                        â”‚
â”‚ â—‹ åªè¯»  â—‹ Low  â— Medium  â—‹ High                                â”‚
â”‚                                                                 â”‚
â”‚ â–¶ é«˜çº§é€‰é¡¹                                                      â”‚
â”‚                                                                 â”‚
â”‚                              [å–æ¶ˆ]        [åˆ›å»ºä»»åŠ¡]           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## å®ç°è®¡åˆ’

### Phase 1: åŸºç¡€æ¶æ„ (2-3å¤©)

1. **åˆ›å»º scheduler.ts æ¨¡å—**
   - é¡¹ç›® CRUD
   - ä»»åŠ¡ CRUD
   - çŠ¶æ€å­˜å‚¨

2. **åˆ›å»ºè¿›ç¨‹ç®¡ç†å™¨**
   - spawn droid exec
   - stdout æµå¼è¯»å–
   - è¿›ç¨‹ç”Ÿå‘½å‘¨æœŸç®¡ç†

3. **IPC handlers**
   - æ³¨å†Œæ‰€æœ‰ API
   - preload æš´éœ²

### Phase 2: è°ƒåº¦é€»è¾‘ (1-2å¤©)

1. **ä»»åŠ¡é˜Ÿåˆ—**
   - ä¼˜å…ˆçº§æ’åº
   - Droid åˆ†é…
   - å¹¶è¡Œæ§åˆ¶

2. **çŠ¶æ€åŒæ­¥**
   - Droid çŠ¶æ€æ›´æ–°
   - ä»»åŠ¡çŠ¶æ€æ›´æ–°
   - å®æ—¶äº‹ä»¶æ¨é€

### Phase 3: å‰ç«¯ UI (3-4å¤©)

1. **é¦–é¡µé‡æ„**
   - é¡¹ç›®åˆ—è¡¨
   - Droid æ± 
   - ä»»åŠ¡çœ‹æ¿

2. **ä»»åŠ¡ç®¡ç†**
   - æ–°å»ºä»»åŠ¡å¯¹è¯æ¡†
   - ä»»åŠ¡è¯¦æƒ…é¢æ¿
   - å®æ—¶è¾“å‡ºå±•ç¤º

3. **äº¤äº’ä¼˜åŒ–**
   - æ‹–æ‹½è°ƒæ•´ä¼˜å…ˆçº§
   - å¿«æ·æ“ä½œ
   - çŠ¶æ€ç­›é€‰

### Phase 4: å®Œå–„åŠŸèƒ½ (1-2å¤©)

1. **å†å²è®°å½•**
   - ä»»åŠ¡å†å²æŸ¥è¯¢
   - ç»Ÿè®¡æŠ¥è¡¨

2. **é…ç½®ç®¡ç†**
   - è°ƒåº¦å™¨è®¾ç½®
   - é»˜è®¤å€¼é…ç½®

3. **é”™è¯¯å¤„ç†**
   - ä»»åŠ¡é‡è¯•
   - å¼‚å¸¸æ¢å¤

---

## ä¾èµ–

### å·²æœ‰ä¾èµ–
- React + TypeScript
- Electron IPC
- Lucide Icons
- Tailwind CSS

### å¯èƒ½éœ€è¦æ–°å¢
- `@dnd-kit/core` - æ‹–æ‹½æ’åº (å¯é€‰)
- `date-fns` - æ—¶é—´æ ¼å¼åŒ– (å¦‚æœæ²¡æœ‰)

---

## é£é™©ä¸æŒ‘æˆ˜

### 1. droid exec è¾“å‡ºè§£æ
- **é£é™©**: è¾“å‡ºæ ¼å¼å¯èƒ½å˜åŒ–
- **ç¼“è§£**: ä½¿ç”¨æ­£åˆ™åŒ¹é…å…³é”®ä¿¡æ¯ï¼Œå®¹é”™å¤„ç†

### 2. è¿›ç¨‹ç®¡ç†
- **é£é™©**: è¿›ç¨‹å¼‚å¸¸é€€å‡ºã€åƒµå°¸è¿›ç¨‹
- **ç¼“è§£**: å®šæœŸæ£€æŸ¥è¿›ç¨‹çŠ¶æ€ï¼Œè¶…æ—¶è‡ªåŠ¨æ¸…ç†

### 3. å¹¶å‘æ§åˆ¶
- **é£é™©**: èµ„æºç«äº‰ã€æ­»é”
- **ç¼“è§£**: ä½¿ç”¨é˜Ÿåˆ—ä¸²è¡ŒåŒ–å…³é”®æ“ä½œ

### 4. å¤§é‡ä»»åŠ¡æ€§èƒ½
- **é£é™©**: å†å²ä»»åŠ¡è¿‡å¤šå¯¼è‡´æ€§èƒ½ä¸‹é™
- **ç¼“è§£**: åˆ†é¡µåŠ è½½ã€å®šæœŸæ¸…ç†æ—§æ•°æ®

---

## åç»­æ‰©å±•

1. **ä»»åŠ¡æ¨¡æ¿** - ä¿å­˜å¸¸ç”¨ä»»åŠ¡é…ç½®
2. **å®šæ—¶ä»»åŠ¡** - æ”¯æŒ cron è¡¨è¾¾å¼
3. **ä»»åŠ¡ä¾èµ–** - ä»»åŠ¡ A å®Œæˆåè‡ªåŠ¨è§¦å‘ä»»åŠ¡ B
4. **Webhook é€šçŸ¥** - ä»»åŠ¡å®Œæˆæ—¶å‘é€é€šçŸ¥
5. **è¿œç¨‹è°ƒåº¦** - æ”¯æŒè¿œç¨‹æœºå™¨ä¸Šçš„ Droid
6. **AI æ™ºèƒ½åˆ†é…** - æ ¹æ®ä»»åŠ¡å†…å®¹è‡ªåŠ¨é€‰æ‹©æœ€ä½³ Droid
